<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
    <link rel="stylesheet" href="./styles/sakura.css" type="text/css"/>
</h:head>
<h:form>
 <p:commandButton update="@all" value="Actualizar"/>
<p:dataTable id="tbl" var="audit" value="#{userMB.listAudit}" border="1"
             rows="10"
             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
             rowsPerPageTemplate="5,10,15"
             cellspacing="0px" paginator="true" styleClass="table" style="font-size:12px; margin-bottom:20px">
    <f:facet name="{Exporters}">
        <div style="float:right;padding-top: 5px;">
            <h:commandLink>
                <p:graphicImage name="/demo/images/excel.png" width="24"/>
                <p:dataExporter type="xls" target="tbl" fileName="cars" />
            </h:commandLink>

            <h:commandLink>
                <p:graphicImage name="/demo/images/pdf.png" width="24"/>
                <p:dataExporter type="pdf" target="tbl" fileName="cars"/>
            </h:commandLink>

            <h:commandLink>
                <p:graphicImage name="/demo/images/csv.png" width="24"/>
                <p:dataExporter type="csv" target="tbl" fileName="cars" />
            </h:commandLink>

        </div>
    </f:facet>
    <p:column style="width:15px">
        <f:facet name="header">
            <p:outputLabel value="ID"/>
        </f:facet>
        <h:outputText value="#{audit.id}"/>
    </p:column>

    <p:column>
        <f:facet name="header">
            <p:outputLabel value="Id Modificador"/>
        </f:facet>
        <h:outputText value="#{audit.userid}"/>
    </p:column>

    <p:column>
        <f:facet name="header">
            <p:outputLabel value="Acción"/>
        </f:facet>
        <h:outputText value="Crear" rendered="#{'C' eq audit.operationcrud}"/>
        <h:outputText value="Actualizar" rendered="#{'U' eq audit.operationcrud}"/>
        <h:outputText value="Ingreso al Sistema" rendered="#{'I' eq audit.operationcrud}"/>
        <h:outputText value="Salió del Sistema" rendered="#{'S' eq audit.operationcrud}"/>
    </p:column>

    <p:column>
        <f:facet name="header">
            <p:outputLabel value="Tabla modificada"/>
        </f:facet>
        <h:outputText value="#{audit.tablename}"/>
    </p:column>

    <p:column>
        <f:facet name="header">
            <p:outputLabel value="Id Modificado"/>
        </f:facet>
        <h:outputText value="#{audit.tableid}"/>
    </p:column>

    <p:column>
        <f:facet name="header">
            <p:outputLabel value="Fecha"/>
        </f:facet>
        <h:outputText value="#{audit.createdate}"/>
    </p:column>

    <p:column>
        <f:facet name="header">
            <p:outputLabel value="Dirección IP"/>
        </f:facet>
        <h:outputText value="#{audit.addressip}"/>
    </p:column>
</p:dataTable>
    <h:commandLink>
        <p:graphicImage name="/demo/images/excel.png" />
        <p:dataExporter type="xls" target="tbl" fileName="auditorias"/>
    </h:commandLink>

    <h:commandLink>
        <p:graphicImage name="/demo/images/pdf.png" />
        <p:dataExporter type="pdf" target="tbl" fileName="auditorias" />
    </h:commandLink>

    <h:commandLink>
        <p:graphicImage name="/demo/images/csv.png" />
        <p:dataExporter type="csv" target="tbl" fileName="auditorias" />
    </h:commandLink>

    <h:commandLink>
        <p:graphicImage name="/demo/images/xml.png" />
        <p:dataExporter type="xml" target="tbl" fileName="auditorias" />
    </h:commandLink>
</h:form>
</html>